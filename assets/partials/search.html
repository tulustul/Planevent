<div id="search-view" ng-controller="SearchController">
    <div class="formTitle">
        Szukajka
    </div>

    <div>
        <pebutton id="searchButton" icon="search" ng-click="search()" />
        <div class="searchField">
            <input type="text" placeholder="Szukaj">
        </div>
    </div>

    <section id="advanced" ng-show="advanced">
        <div class="searchFilter" ng-click="searchCategory=!searchCategory">
            <span class="fa" ng-class="{'fa-angle-down': !searchCategory, 'fa-angle-up': searchCategory}"></span>
            Kategoria
            <span class="fa" ng-class="{'fa-angle-down': !searchCategory, 'fa-angle-up': searchCategory}"></span>
            <span class="fa" ng-class="{'fa-check-square-o': searchCategory, 'fa-square-o': !searchCategory}"></span>
        </div>
        <div class="formField" ng-show="searchCategory">
            <select ng-model="category" ng-options="c.id as c.name for c in categories"></select>
        </div>

        <div class="searchFilter" ng-click="searchLocation=!searchLocation">
            <span class="fa" ng-class="{'fa-angle-down': !searchLocation, 'fa-angle-up': searchLocation}"></span>
            Lokalizacja
            <span class="fa" ng-class="{'fa-angle-down': !searchLocation, 'fa-angle-up': searchLocation}"></span>
            <span class="fa" ng-class="{'fa-check-square-o': searchLocation, 'fa-square-o': !searchLocation}"></span>
        </div>
        <div class="formField" ng-show="searchLocation">
            <addressSetter ng-model="location" type="simple"></addressSetter>
            Zasięg szukania:
            <div ui-slider min="1" max="50" step="1" ng-model="radius"></div>
            <span>{{ radius }}km</span>
        </div>

        <div class="searchFilter" ng-click="searchPrice=!searchPrice">
            <span class="fa" ng-class="{'fa-angle-down': !searchPrice, 'fa-angle-up': searchPrice}"></span>
            Cena
            <span class="fa" ng-class="{'fa-angle-down': !searchPrice, 'fa-angle-up': searchPrice}"></span>
            <span class="fa" ng-class="{'fa-check-square-o': searchPrice, 'fa-square-o': !searchPrice}"></span>
        </div>
        <div class="formField" ng-show="searchPrice">
            <div ui-slider="{range: true}" min="0" max="1000" step="10" ng-model="prizeRange"></div>
            <div class="price">
                <input type="text" ng-model="prizeRange[0]" />zł -
                <input type="text" ng-model="prizeRange[1]" />zł
            </div>
    </section>

    <section ng-show="mapVisible">
        <addressViewer ng-model="location" radius="radius" scale-policy="radius-only" ng-class="{bigAddressViewer: bigMap, smallAddressViewer: !bigMap}" />
        <pebutton icon="search-plus" text-position="right" text="Duża mapa" ng-click="bigMap=!bigMap" ng-show="!bigMap"></pebutton>
        <pebutton icon="search-minus" text-position="right" text="Mała mapa" ng-click="bigMap=!bigMap" ng-show="bigMap"></pebutton>
    </section>

    <div class="toogleButtons">
        <div class="toogleButton" ng-click="advanced=!advanced">Opcje<span class="fa fa-square-o" ng-show="!advanced" /><span class="fa fa-check-square-o" ng-show="advanced" /></div>
        <div class="toogleButton" ng-click="mapVisible=!mapVisible">Mapa<span class="fa fa-square-o" ng-show="!mapVisible" /><span class="fa fa-check-square-o" ng-show="mapVisible" /></div>
        <div class="clear"></div>
    </div>
</div>
